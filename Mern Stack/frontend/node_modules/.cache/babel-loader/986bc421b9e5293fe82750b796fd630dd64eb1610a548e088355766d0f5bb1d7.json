{"ast":null,"code":"import _slicedToArray from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var authReducer=function authReducer(state,action){switch(action.type){case'LOGIN':return{user:action.payload};case'LOGOUT':return{user:null};case'UPDATE_PROFILE':return{user:_objectSpread(_objectSpread({},state.user),action.payload)};default:return state;}};export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(authReducer,{user:null}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var user=JSON.parse(localStorage.getItem('user'));if(user){dispatch({type:'LOGIN',payload:user});}},[]);console.log('AuthContext state:',state);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{dispatch:dispatch}),children:children});};","map":{"version":3,"names":["createContext","useReducer","useEffect","AuthContext","authReducer","state","action","type","user","payload","AuthContextProvider","children","dispatch","JSON","parse","localStorage","getItem","console","log"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect } from 'react'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { user: action.payload }\n    case 'LOGOUT':\n      return { user: null }\n    case 'UPDATE_PROFILE':\n      return { user: { ...state.user, ...action.payload } }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null\n  })\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'))\n\n    if (user) {\n      dispatch({ type: 'LOGIN', payload: user }) \n    }\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n}"],"mappings":"qSAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,4CAE5D,MAAO,IAAMC,YAAW,cAAGH,aAAa,EAAE,CAE1C,MAAO,IAAMI,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,MAAM,CAAK,CAC5C,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,OAAO,CACV,MAAO,CAAEC,IAAI,CAAEF,MAAM,CAACG,OAAQ,CAAC,CACjC,IAAK,QAAQ,CACX,MAAO,CAAED,IAAI,CAAE,IAAK,CAAC,CACvB,IAAK,gBAAgB,CACnB,MAAO,CAAEA,IAAI,gCAAOH,KAAK,CAACG,IAAI,EAAKF,MAAM,CAACG,OAAO,CAAG,CAAC,CACvD,QACE,MAAOJ,MAAK,EAElB,CAAC,CAED,MAAO,IAAMK,oBAAmB,CAAG,QAAtBA,oBAAmB,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CAC5C,gBAA0BV,UAAU,CAACG,WAAW,CAAE,CAChDI,IAAI,CAAE,IACR,CAAC,CAAC,4CAFKH,KAAK,iBAAEO,QAAQ,iBAItBV,SAAS,CAAC,UAAM,CACd,GAAMM,KAAI,CAAGK,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAErD,GAAIR,IAAI,CAAE,CACRI,QAAQ,CAAC,CAAEL,IAAI,CAAE,OAAO,CAAEE,OAAO,CAAED,IAAK,CAAC,CAAC,CAC5C,CACF,CAAC,CAAE,EAAE,CAAC,CAENS,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEb,KAAK,CAAC,CAExC,mBACE,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,gCAAOA,KAAK,MAAEO,QAAQ,CAARA,QAAQ,EAAG,UAChDD,QAAQ,EACW,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}