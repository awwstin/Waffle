{"ast":null,"code":"var _jsxFileName = \"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/ProjectForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useProjectsContext } from \"../hooks/useProjectsContext\";\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProjectForm = () => {\n  _s();\n  const {\n    dispatch\n  } = useProjectsContext();\n  const {\n    user\n  } = useAuthContext();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [nums, setNums] = useState('');\n  const [error, setError] = useState(null);\n  const [emptyFields, setEmptyFields] = useState([]);\n  const [selectedTags, setSelectedTags] = useState(new Set());\n  // const [email, setEmail] = useState('')\n\n  const availableTags = {\n    languages: ['Python', 'C++', 'Java', 'JavaScript', 'C', 'HTML/CSS', 'PHP', 'SQL', 'Swift', 'Go', 'Kotlin'],\n    projectType: ['Front-end', 'Back-end', 'Full-stack', 'React', 'Flask', \"Rest\", 'Machine Learning', 'Data Analysis', 'Smart Devices', 'Artificial Intelligence', 'Social Network', 'Visualization'],\n    courseNumber: ['CS1101', 'CS2201', 'CS3250', 'CS3251', 'CS3281', 'CS3270', 'CS4278'],\n    More: ['Others']\n  };\n  const renderTagSubList = category => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [category, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"proj-tag-container\",\n      children: availableTags[category].map(tag => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"proj-tag-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: `tag-${tag}`,\n          className: \"proj-tag-checkbox\",\n          checked: selectedTags.has(tag),\n          onChange: () => handleTagChange(tag)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: `tag-${tag}`,\n          className: \"proj-tag-label\",\n          children: tag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, tag, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  const handleTagChange = tag => {\n    const newSelectedTags = new Set(selectedTags);\n    if (newSelectedTags.has(tag)) {\n      newSelectedTags.delete(tag);\n    } else {\n      newSelectedTags.add(tag);\n    }\n    setSelectedTags(newSelectedTags);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user) {\n      setError('You must be logged in');\n      return;\n    }\n    const project = {\n      title,\n      description,\n      tags: Array.from(selectedTags),\n      nums\n    };\n    const response = await fetch('/api/projects/', {\n      method: 'POST',\n      body: JSON.stringify(project),\n      headers: {\n        'Authorization': `Bearer ${user.token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const json = await response.json();\n    if (!response.ok) {\n      setError(json.error);\n      setEmptyFields(json.emptyFields);\n    }\n    if (response.ok) {\n      setTitle('');\n      setDescription('');\n      setNums('');\n      setError(null);\n      setEmptyFields([]);\n      dispatch({\n        type: 'CREATE_PROJECT',\n        payload: json\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"create\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add a New Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Project Title:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: e => setTitle(e.target.value),\n      value: title,\n      className: emptyFields.includes('title') ? 'error' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Description:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: e => setDescription(e.target.value),\n      value: description,\n      className: emptyFields.includes('description') ? 'error' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Tags:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"proj-tag-container\",\n      children: [renderTagSubList(\"languages\"), renderTagSubList(\"projectType\"), renderTagSubList(\"courseNumber\"), renderTagSubList(\"More\")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Required members:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      onChange: e => setNums(e.target.value),\n      value: nums,\n      className: emptyFields.includes('nums') ? 'error' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Add Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectForm, \"rISyPrLgQs8wDAGBbwwgsshYx80=\", false, function () {\n  return [useProjectsContext, useAuthContext];\n});\n_c = ProjectForm;\nexport default ProjectForm;\nvar _c;\n$RefreshReg$(_c, \"ProjectForm\");","map":{"version":3,"names":["useEffect","useState","useProjectsContext","useAuthContext","ProjectForm","dispatch","user","title","setTitle","description","setDescription","nums","setNums","error","setError","emptyFields","setEmptyFields","selectedTags","setSelectedTags","Set","availableTags","languages","projectType","courseNumber","More","renderTagSubList","category","map","tag","has","handleTagChange","newSelectedTags","delete","add","handleSubmit","e","preventDefault","project","tags","Array","from","response","fetch","method","body","JSON","stringify","headers","token","json","ok","type","payload","target","value","includes"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/ProjectForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useProjectsContext } from \"../hooks/useProjectsContext\"\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nconst ProjectForm = () => {\n  const { dispatch } = useProjectsContext()\n  const { user } = useAuthContext()\n\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [nums, setNums] = useState('')\n  const [error, setError] = useState(null)\n  const [emptyFields, setEmptyFields] = useState([])\n  const [selectedTags, setSelectedTags] = useState(new Set())\n  // const [email, setEmail] = useState('')\n\n  const availableTags = {\n    languages: ['Python', 'C++', 'Java', 'JavaScript', 'C', 'HTML/CSS', 'PHP', 'SQL', 'Swift', 'Go', 'Kotlin'],\n    projectType: [\n      'Front-end',\n      'Back-end',\n      'Full-stack',\n      'React',\n      'Flask',\n      \"Rest\",\n      'Machine Learning',\n      'Data Analysis',\n      'Smart Devices',\n      'Artificial Intelligence',\n      'Social Network',\n      'Visualization',\n    ],\n    courseNumber: ['CS1101', 'CS2201', 'CS3250', 'CS3251', 'CS3281', 'CS3270','CS4278'],\n    More: ['Others'],\n  };\n\n  const renderTagSubList = (category) => (\n    <>\n      <label>{category}:</label>\n      <div className=\"proj-tag-container\">\n        {availableTags[category].map((tag) => (\n          <div key={tag} className=\"proj-tag-option\">\n            <input\n              type=\"checkbox\"\n              id={`tag-${tag}`}\n              className=\"proj-tag-checkbox\"\n              checked={selectedTags.has(tag)}\n              onChange={() => handleTagChange(tag)}\n            />\n            <label htmlFor={`tag-${tag}`} className=\"proj-tag-label\">\n              {tag}\n            </label>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n\n\n  const handleTagChange = (tag) => {\n    const newSelectedTags = new Set(selectedTags)\n    if (newSelectedTags.has(tag)) {\n      newSelectedTags.delete(tag)\n    } else {\n      newSelectedTags.add(tag)\n    }\n    setSelectedTags(newSelectedTags)\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!user) {\n      setError('You must be logged in')\n      return\n    } \n  \n    const project = {title, description, tags: Array.from(selectedTags), nums}\n\n    const response = await fetch('/api/projects/', {\n      method: 'POST',\n      body: JSON.stringify(project),\n      headers: {\n        'Authorization': `Bearer ${user.token}`,\n        'Content-Type': 'application/json'\n      }\n    })\n    const json = await response.json()\n\n    if (!response.ok) {\n      setError(json.error)\n      setEmptyFields(json.emptyFields)\n    }\n    if (response.ok) {\n      setTitle('')\n      setDescription('')\n      setNums('')\n      setError(null)\n      setEmptyFields([])\n      \n      dispatch({type: 'CREATE_PROJECT', payload: json})\n    }\n  }\n\n  return (\n    <form className=\"create\" onSubmit={handleSubmit}>\n      <h3>Add a New Project</h3>\n\n      <label>Project Title:</label>\n      <input \n        type=\"text\"\n        onChange={(e) => setTitle(e.target.value)}\n        value={title}\n        className={emptyFields.includes('title') ? 'error' : ''}\n      />\n\n      <label>Description:</label>\n      <input \n        type=\"text\"\n        onChange={(e) => setDescription(e.target.value)}\n        value={description}\n        className={emptyFields.includes('description') ? 'error' : ''}\n      />\n\n      <label>Tags:</label>\n      <div className=\"proj-tag-container\">\n      {renderTagSubList(\"languages\")}\n      {renderTagSubList(\"projectType\")}\n      {renderTagSubList(\"courseNumber\")}\n      {renderTagSubList(\"More\")}\n    </div>\n\n      <label>Required members:</label>\n      <input \n        type=\"number\"\n        onChange={(e) => setNums(e.target.value)}\n        value={nums}\n        className={emptyFields.includes('nums') ? 'error' : ''}\n      />\n\n    \n\n      \n      <button>Add Project</button>\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}\n\nexport default ProjectForm"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,kBAAkB,QAAQ,6BAA6B;AAChE,SAASC,cAAc,QAAQ,yBAAyB;AAAA;AAAA;AAExD,MAAMC,WAAW,GAAG,MAAM;EAAA;EACxB,MAAM;IAAEC;EAAS,CAAC,GAAGH,kBAAkB,EAAE;EACzC,MAAM;IAAEI;EAAK,CAAC,GAAGH,cAAc,EAAE;EAEjC,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,IAAIkB,GAAG,EAAE,CAAC;EAC3D;;EAEA,MAAMC,aAAa,GAAG;IACpBC,SAAS,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC;IAC1GC,WAAW,EAAE,CACX,WAAW,EACX,UAAU,EACV,YAAY,EACZ,OAAO,EACP,OAAO,EACP,MAAM,EACN,kBAAkB,EAClB,eAAe,EACf,eAAe,EACf,yBAAyB,EACzB,gBAAgB,EAChB,eAAe,CAChB;IACDC,YAAY,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAC,QAAQ,CAAC;IACnFC,IAAI,EAAE,CAAC,QAAQ;EACjB,CAAC;EAED,MAAMC,gBAAgB,GAAIC,QAAQ,iBAChC;IAAA,wBACE;MAAA,WAAQA,QAAQ,EAAC,GAAC;IAAA;MAAA;MAAA;MAAA;IAAA,QAAQ,eAC1B;MAAK,SAAS,EAAC,oBAAoB;MAAA,UAChCN,aAAa,CAACM,QAAQ,CAAC,CAACC,GAAG,CAAEC,GAAG,iBAC/B;QAAe,SAAS,EAAC,iBAAiB;QAAA,wBACxC;UACE,IAAI,EAAC,UAAU;UACf,EAAE,EAAG,OAAMA,GAAI,EAAE;UACjB,SAAS,EAAC,mBAAmB;UAC7B,OAAO,EAAEX,YAAY,CAACY,GAAG,CAACD,GAAG,CAAE;UAC/B,QAAQ,EAAE,MAAME,eAAe,CAACF,GAAG;QAAE;UAAA;UAAA;UAAA;QAAA,QACrC,eACF;UAAO,OAAO,EAAG,OAAMA,GAAI,EAAE;UAAC,SAAS,EAAC,gBAAgB;UAAA,UACrDA;QAAG;UAAA;UAAA;UAAA;QAAA,QACE;MAAA,GAVAA,GAAG;QAAA;QAAA;QAAA;MAAA,QAYd;IAAC;MAAA;MAAA;MAAA;IAAA,QACE;EAAA,gBAET;EAGD,MAAME,eAAe,GAAIF,GAAG,IAAK;IAC/B,MAAMG,eAAe,GAAG,IAAIZ,GAAG,CAACF,YAAY,CAAC;IAC7C,IAAIc,eAAe,CAACF,GAAG,CAACD,GAAG,CAAC,EAAE;MAC5BG,eAAe,CAACC,MAAM,CAACJ,GAAG,CAAC;IAC7B,CAAC,MAAM;MACLG,eAAe,CAACE,GAAG,CAACL,GAAG,CAAC;IAC1B;IACAV,eAAe,CAACa,eAAe,CAAC;EAClC,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,EAAE;IAElB,IAAI,CAAC9B,IAAI,EAAE;MACTQ,QAAQ,CAAC,uBAAuB,CAAC;MACjC;IACF;IAEA,MAAMuB,OAAO,GAAG;MAAC9B,KAAK;MAAEE,WAAW;MAAE6B,IAAI,EAAEC,KAAK,CAACC,IAAI,CAACvB,YAAY,CAAC;MAAEN;IAAI,CAAC;IAE1E,MAAM8B,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAgB,EAAE;MAC7CC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,OAAO,CAAC;MAC7BU,OAAO,EAAE;QACP,eAAe,EAAG,UAASzC,IAAI,CAAC0C,KAAM,EAAC;QACvC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACF,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACQ,IAAI,EAAE;IAElC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChBpC,QAAQ,CAACmC,IAAI,CAACpC,KAAK,CAAC;MACpBG,cAAc,CAACiC,IAAI,CAAClC,WAAW,CAAC;IAClC;IACA,IAAI0B,QAAQ,CAACS,EAAE,EAAE;MACf1C,QAAQ,CAAC,EAAE,CAAC;MACZE,cAAc,CAAC,EAAE,CAAC;MAClBE,OAAO,CAAC,EAAE,CAAC;MACXE,QAAQ,CAAC,IAAI,CAAC;MACdE,cAAc,CAAC,EAAE,CAAC;MAElBX,QAAQ,CAAC;QAAC8C,IAAI,EAAE,gBAAgB;QAAEC,OAAO,EAAEH;MAAI,CAAC,CAAC;IACnD;EACF,CAAC;EAED,oBACE;IAAM,SAAS,EAAC,QAAQ;IAAC,QAAQ,EAAEf,YAAa;IAAA,wBAC9C;MAAA,UAAI;IAAiB;MAAA;MAAA;MAAA;IAAA,QAAK,eAE1B;MAAA,UAAO;IAAc;MAAA;MAAA;MAAA;IAAA,QAAQ,eAC7B;MACE,IAAI,EAAC,MAAM;MACX,QAAQ,EAAGC,CAAC,IAAK3B,QAAQ,CAAC2B,CAAC,CAACkB,MAAM,CAACC,KAAK,CAAE;MAC1C,KAAK,EAAE/C,KAAM;MACb,SAAS,EAAEQ,WAAW,CAACwC,QAAQ,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG;IAAG;MAAA;MAAA;MAAA;IAAA,QACxD,eAEF;MAAA,UAAO;IAAY;MAAA;MAAA;MAAA;IAAA,QAAQ,eAC3B;MACE,IAAI,EAAC,MAAM;MACX,QAAQ,EAAGpB,CAAC,IAAKzB,cAAc,CAACyB,CAAC,CAACkB,MAAM,CAACC,KAAK,CAAE;MAChD,KAAK,EAAE7C,WAAY;MACnB,SAAS,EAAEM,WAAW,CAACwC,QAAQ,CAAC,aAAa,CAAC,GAAG,OAAO,GAAG;IAAG;MAAA;MAAA;MAAA;IAAA,QAC9D,eAEF;MAAA,UAAO;IAAK;MAAA;MAAA;MAAA;IAAA,QAAQ,eACpB;MAAK,SAAS,EAAC,oBAAoB;MAAA,WAClC9B,gBAAgB,CAAC,WAAW,CAAC,EAC7BA,gBAAgB,CAAC,aAAa,CAAC,EAC/BA,gBAAgB,CAAC,cAAc,CAAC,EAChCA,gBAAgB,CAAC,MAAM,CAAC;IAAA;MAAA;MAAA;MAAA;IAAA,QACrB,eAEJ;MAAA,UAAO;IAAiB;MAAA;MAAA;MAAA;IAAA,QAAQ,eAChC;MACE,IAAI,EAAC,QAAQ;MACb,QAAQ,EAAGU,CAAC,IAAKvB,OAAO,CAACuB,CAAC,CAACkB,MAAM,CAACC,KAAK,CAAE;MACzC,KAAK,EAAE3C,IAAK;MACZ,SAAS,EAAEI,WAAW,CAACwC,QAAQ,CAAC,MAAM,CAAC,GAAG,OAAO,GAAG;IAAG;MAAA;MAAA;MAAA;IAAA,QACvD,eAKF;MAAA,UAAQ;IAAW;MAAA;MAAA;MAAA;IAAA,QAAS,EAC3B1C,KAAK,iBAAI;MAAK,SAAS,EAAC,OAAO;MAAA,UAAEA;IAAK;MAAA;MAAA;MAAA;IAAA,QAAO;EAAA;IAAA;IAAA;IAAA;EAAA,QACzC;AAEX,CAAC;AAAA,GA/IKT,WAAW;EAAA,QACMF,kBAAkB,EACtBC,cAAc;AAAA;AAAA,KAF3BC,WAAW;AAiJjB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}