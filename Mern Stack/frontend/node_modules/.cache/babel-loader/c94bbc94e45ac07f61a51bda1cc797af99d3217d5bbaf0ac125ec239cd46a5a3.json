{"ast":null,"code":"var _jsxFileName = \"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/ProjectForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useProjectsContext } from \"../hooks/useProjectsContext\";\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectForm = () => {\n  _s();\n  const {\n    dispatch\n  } = useProjectsContext();\n  const {\n    user\n  } = useAuthContext();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [nums, setNums] = useState('');\n  const [error, setError] = useState(null);\n  const [emptyFields, setEmptyFields] = useState([]);\n  const [selectedTags, setSelectedTags] = useState(new Set());\n  // const [email, setEmail] = useState('')\n\n  const availableTags = ['Python', 'C++', 'Java', 'Machine Learning', 'data analysis', 'smart devices', 'social network', 'visualization'];\n  const handleTagChange = tag => {\n    const newSelectedTags = new Set(selectedTags);\n    if (newSelectedTags.has(tag)) {\n      newSelectedTags.delete(tag);\n    } else {\n      newSelectedTags.add(tag);\n    }\n    setSelectedTags(newSelectedTags);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user) {\n      setError('You must be logged in');\n      return;\n    }\n    const project = {\n      title,\n      description,\n      tags: Array.from(selectedTags),\n      nums\n    };\n    const response = await fetch('/api/projects/', {\n      method: 'POST',\n      body: JSON.stringify(project),\n      headers: {\n        'Authorization': `Bearer ${user.token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const json = await response.json();\n    if (!response.ok) {\n      setError(json.error);\n      setEmptyFields(json.emptyFields);\n    }\n    if (response.ok) {\n      setTitle('');\n      setDescription('');\n      setNums('');\n      setError(null);\n      setEmptyFields([]);\n      dispatch({\n        type: 'CREATE_PROJECT',\n        payload: json\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"create\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add a New Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Project Title:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: e => setTitle(e.target.value),\n      value: title,\n      className: emptyFields.includes('title') ? 'error' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Description:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: e => setDescription(e.target.value),\n      value: description,\n      className: emptyFields.includes('description') ? 'error' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Tags:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"proj-tag-container\",\n      children: availableTags.map(tag => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"proj-tag-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: `tag-${tag}`,\n          className: \"proj-tag-checkbox\",\n          checked: selectedTags.has(tag),\n          onChange: () => handleTagChange(tag)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: `tag-${tag}`,\n          className: \"proj-tag-label\",\n          children: tag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }, this)]\n      }, tag, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Required members:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      onChange: e => setNums(e.target.value),\n      value: nums,\n      className: emptyFields.includes('nums') ? 'error' : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Add Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectForm, \"rISyPrLgQs8wDAGBbwwgsshYx80=\", false, function () {\n  return [useProjectsContext, useAuthContext];\n});\n_c = ProjectForm;\nexport default ProjectForm;\nvar _c;\n$RefreshReg$(_c, \"ProjectForm\");","map":{"version":3,"names":["useEffect","useState","useProjectsContext","useAuthContext","ProjectForm","dispatch","user","title","setTitle","description","setDescription","nums","setNums","error","setError","emptyFields","setEmptyFields","selectedTags","setSelectedTags","Set","availableTags","handleTagChange","tag","newSelectedTags","has","delete","add","handleSubmit","e","preventDefault","project","tags","Array","from","response","fetch","method","body","JSON","stringify","headers","token","json","ok","type","payload","target","value","includes","map"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/ProjectForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useProjectsContext } from \"../hooks/useProjectsContext\"\nimport { useAuthContext } from '../hooks/useAuthContext'\n\nconst ProjectForm = () => {\n  const { dispatch } = useProjectsContext()\n  const { user } = useAuthContext()\n\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [nums, setNums] = useState('')\n  const [error, setError] = useState(null)\n  const [emptyFields, setEmptyFields] = useState([])\n  const [selectedTags, setSelectedTags] = useState(new Set())\n  // const [email, setEmail] = useState('')\n\n  const availableTags = [\n      'Python', \n      'C++', \n      'Java', \n      'Machine Learning', \n      'data analysis', \n      'smart devices', \n      'social network', \n      'visualization'\n  ]\n\n  const handleTagChange = (tag) => {\n    const newSelectedTags = new Set(selectedTags)\n    if (newSelectedTags.has(tag)) {\n      newSelectedTags.delete(tag)\n    } else {\n      newSelectedTags.add(tag)\n    }\n    setSelectedTags(newSelectedTags)\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!user) {\n      setError('You must be logged in')\n      return\n    } \n  \n    const project = {title, description, tags: Array.from(selectedTags), nums}\n\n    const response = await fetch('/api/projects/', {\n      method: 'POST',\n      body: JSON.stringify(project),\n      headers: {\n        'Authorization': `Bearer ${user.token}`,\n        'Content-Type': 'application/json'\n      }\n    })\n    const json = await response.json()\n\n    if (!response.ok) {\n      setError(json.error)\n      setEmptyFields(json.emptyFields)\n    }\n    if (response.ok) {\n      setTitle('')\n      setDescription('')\n      setNums('')\n      setError(null)\n      setEmptyFields([])\n      \n      dispatch({type: 'CREATE_PROJECT', payload: json})\n    }\n  }\n\n  return (\n    <form className=\"create\" onSubmit={handleSubmit}>\n      <h3>Add a New Project</h3>\n\n      <label>Project Title:</label>\n      <input \n        type=\"text\"\n        onChange={(e) => setTitle(e.target.value)}\n        value={title}\n        className={emptyFields.includes('title') ? 'error' : ''}\n      />\n\n      <label>Description:</label>\n      <input \n        type=\"text\"\n        onChange={(e) => setDescription(e.target.value)}\n        value={description}\n        className={emptyFields.includes('description') ? 'error' : ''}\n      />\n\n      <label>Tags:</label>\n      <div className=\"proj-tag-container\">\n        {availableTags.map((tag) => (\n        <div key={tag} className=\"proj-tag-option\">\n      <input \n        type=\"checkbox\"\n        id={`tag-${tag}`}\n        className=\"proj-tag-checkbox\"\n        checked={selectedTags.has(tag)}\n        onChange={() => handleTagChange(tag)}\n      />\n      <label htmlFor={`tag-${tag}`} className=\"proj-tag-label\">{tag}</label>\n    </div>\n      ))}\n    </div>\n\n      <label>Required members:</label>\n      <input \n        type=\"number\"\n        onChange={(e) => setNums(e.target.value)}\n        value={nums}\n        className={emptyFields.includes('nums') ? 'error' : ''}\n      />\n\n    \n\n      \n      <button>Add Project</button>\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}\n\nexport default ProjectForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}