{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Link,useNavigate}from'react-router-dom';import{useLogout}from'../hooks/useLogout';import{useDelete}from'../hooks/useDelete';import{useAuthContext}from'../hooks/useAuthContext';import\"./Navbar.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useLogout=useLogout(),logout=_useLogout.logout;var _useDelete=useDelete(),deleteUser=_useDelete.deleteUser;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var navigate=useNavigate();var handleClick=function handleClick(){logout();navigate('/login');};var handleDeleteAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!window.confirm('Are you sure you want to delete your account?')){_context.next=5;break;}_context.next=3;return deleteUser(user.email);case 3:logout();navigate('/login');case 5:case\"end\":return _context.stop();}},_callee);}));return function handleDeleteAccount(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Waffle\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout\",children:[user&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:user.email}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Log out\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteAccount,children:\"Delete Account\"})]}),!user&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{marginRight:'10px'},children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})]})]})});};export default Navbar;","map":{"version":3,"names":["Link","useNavigate","useLogout","useDelete","useAuthContext","Navbar","logout","deleteUser","user","navigate","handleClick","handleDeleteAccount","window","confirm","email","marginRight"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/Navbar.js"],"sourcesContent":["import { Link, useNavigate} from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useDelete } from '../hooks/useDelete'\nimport { useAuthContext } from '../hooks/useAuthContext'\nimport \"./Navbar.css\"\n\n\nconst Navbar = () => {\n  const { logout } = useLogout();\n  const { deleteUser } = useDelete();\n  const { user } = useAuthContext();\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    logout();\n    navigate('/login');\n  };\n\n  const handleDeleteAccount = async () => {\n    // Once the account is deleted, log the user out\n    if (window.confirm('Are you sure you want to delete your account?')) {\n      await deleteUser(user.email);\n      logout();\n      navigate('/login');\n    }\n  };\n\n  return (\n    <header>\n      <div className=\"container\">\n        <Link to=\"/\">\n          <h1 className=\"title\">Waffle</h1>\n        </Link>\n        <div className=\"logout\">\n          {user && (\n            <div>\n              <span>{user.email}</span>\n              <button onClick={handleClick}>Log out</button>\n              <button onClick={handleDeleteAccount}>Delete Account</button>\n            </div>\n          )}\n          {!user && (\n            <div>\n              <Link to=\"/login\" style={{ marginRight: '10px' }}>Login</Link>\n              <Link to=\"/signup\">Signup</Link>\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"sTAAA,OAASA,IAAI,CAAEC,WAAW,KAAO,kBAAkB,CACnD,OAASC,SAAS,KAAQ,oBAAoB,CAC9C,OAASC,SAAS,KAAQ,oBAAoB,CAC9C,OAASC,cAAc,KAAQ,yBAAyB,CACxD,MAAO,cAAc,yFAGrB,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,eAAmBH,SAAS,EAAE,CAAtBI,MAAM,YAANA,MAAM,CACd,eAAuBH,SAAS,EAAE,CAA1BI,UAAU,YAAVA,UAAU,CAClB,oBAAiBH,cAAc,EAAE,CAAzBI,IAAI,iBAAJA,IAAI,CACZ,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9B,GAAMS,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBJ,MAAM,EAAE,CACRG,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,GAAME,oBAAmB,4FAAG,wIAEtBC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,+CAC3DN,WAAU,CAACC,IAAI,CAACM,KAAK,CAAC,QAC5BR,MAAM,EAAE,CACRG,QAAQ,CAAC,QAAQ,CAAC,CAAC,qDAEtB,kBAPKE,oBAAmB,0CAOxB,CAED,mBACE,qCACE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,uBACV,WAAI,SAAS,CAAC,OAAO,UAAC,QAAM,EAAK,EAC5B,cACP,aAAK,SAAS,CAAC,QAAQ,WACpBH,IAAI,eACH,oCACE,sBAAOA,IAAI,CAACM,KAAK,EAAQ,cACzB,eAAQ,OAAO,CAAEJ,WAAY,UAAC,SAAO,EAAS,cAC9C,eAAQ,OAAO,CAAEC,mBAAoB,UAAC,gBAAc,EAAS,GAEhE,CACA,CAACH,IAAI,eACJ,oCACE,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAE,CAAEO,WAAW,CAAE,MAAO,CAAE,UAAC,OAAK,EAAO,cAC9D,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,UAAC,QAAM,EAAO,GAEnC,GACG,GACF,EACC,CAEb,CAAC,CAED,cAAeV,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}