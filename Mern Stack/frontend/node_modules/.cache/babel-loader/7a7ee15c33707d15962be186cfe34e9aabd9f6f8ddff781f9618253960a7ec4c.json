{"ast":null,"code":"import _slicedToArray from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Confirmation(){var _useParams=useParams(),email=_useParams.email;var _useParams2=useParams(),emailToken=_useParams2.emailToken;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isValidToken=_useState2[0],setIsValidToken=_useState2[1];function verifyEmailToken(email,emailToken){console.log('testing function');var usernameAndToken={email:email,emailToken:emailToken};axios.post(\"/api/user/verifyEmailToken\",usernameAndToken).then(function(response){var responseStatus=response.data.status;if(responseStatus==='okay'){setIsValidToken(true);}});}useEffect(function(){verifyEmailToken(email,emailToken);},[]);return/*#__PURE__*/_jsx(\"div\",{children:isValidToken?/*#__PURE__*/_jsxs(\"div\",{children:[\"Email has been verified you can now sign in\",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]}):/*#__PURE__*/_jsx(\"div\",{children:\"Could not verify email or token is no longer valid\"})});}export default Confirmation;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Link","Confirmation","email","emailToken","isValidToken","setIsValidToken","verifyEmailToken","console","log","usernameAndToken","post","then","response","responseStatus","data","status"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/pages/Confirmation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\n\n\nfunction Confirmation() {\n  let {email} = useParams();\n  let {emailToken} = useParams();\n  const [isValidToken, setIsValidToken] = useState(false);\n\n  function verifyEmailToken(email, emailToken) {\n    console.log('testing function')\n    const usernameAndToken = {\n      email: email,\n      emailToken: emailToken,\n    }\n    axios.post(\"/api/user/verifyEmailToken\", usernameAndToken)\n      .then(response => {\n        const responseStatus = response.data.status;\n        if (responseStatus === 'okay') {\n          setIsValidToken(true);\n        }\n      })\n  }\n\n  useEffect(() => {\n    verifyEmailToken(email, emailToken);\n  }, [])\n\n  return (\n    <div>\n      {isValidToken ?\n        <div>\n          Email has been verified you can now sign in\n          <Link to=\"/login\">\n            Login\n          </Link>\n          </div>\n          :\n          <div>\n            Could not verify email or token is no longer valid\n          </div>\n        }\n    </div>\n  )\n}\n\nexport default Confirmation"],"mappings":"mJAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,wFAIxC,QAASC,aAAY,EAAG,CACtB,eAAcH,SAAS,EAAE,CAApBI,KAAK,YAALA,KAAK,CACV,gBAAmBJ,SAAS,EAAE,CAAzBK,UAAU,aAAVA,UAAU,CACf,cAAwCP,QAAQ,CAAC,KAAK,CAAC,wCAAhDQ,YAAY,eAAEC,eAAe,eAEpC,QAASC,iBAAgB,CAACJ,KAAK,CAAEC,UAAU,CAAE,CAC3CI,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAC/B,GAAMC,iBAAgB,CAAG,CACvBP,KAAK,CAAEA,KAAK,CACZC,UAAU,CAAEA,UACd,CAAC,CACDJ,KAAK,CAACW,IAAI,CAAC,4BAA4B,CAAED,gBAAgB,CAAC,CACvDE,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAMC,eAAc,CAAGD,QAAQ,CAACE,IAAI,CAACC,MAAM,CAC3C,GAAIF,cAAc,GAAK,MAAM,CAAE,CAC7BR,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAC,CAAC,CACN,CAEAR,SAAS,CAAC,UAAM,CACdS,gBAAgB,CAACJ,KAAK,CAAEC,UAAU,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,qBACGC,YAAY,cACX,uBAAK,6CAEH,mBAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,UAAC,OAElB,EAAO,GACD,cAEN,qBAAK,oDAEL,EAAM,EAEN,CAEV,CAEA,cAAeH,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}