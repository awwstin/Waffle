{"ast":null,"code":"import _toConsumableArray from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// export default Search;\nimport\"./search.css\";import{useState}from'react';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var languageOptions=['Python','C++','Java','JavaScript','C','HTML/CSS','PHP','SQL','Swift','Go'];var projectTypeOptions=['Front-end','Back-end','Full-stack','React','Flask',\"Rest\",'Machine Learning','Data Analysis','Smart Devices','Artificial Intelligence','Social Network','Visualization'];var courseNumberOptions=['CS1101','CS2201','CS2212','CS3250','CS3251','CS3281','CS3270','CS4278','CS3265','CS4260','CS4288','CS3891'];var Search=function Search(){var location=useLocation();var searchQuery=new URLSearchParams(location.search).get('search')||'NULL/NULL';var _useState=useState(searchQuery.split('/')[0].split(',').filter(function(tag){return tag!=='NULL';})),_useState2=_slicedToArray(_useState,2),selectedTags=_useState2[0],setSelectedTags=_useState2[1];var _useState3=useState(searchQuery.split('/')[1]!=='NULL'?searchQuery.split('/')[1]:''),_useState4=_slicedToArray(_useState3,2),textInput=_useState4[0],setTextInput=_useState4[1];var tagOptions=['Python','C++','Java','JavaScript','C','Front-end','Back-end','Full-stack','Machine Learning','Data Analysis','Smart Devices','Artificial Intelligence','Social Network','Visualization'];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var tagsString,searchQuery;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Combine the selected tags into a single string separated by commas\ntagsString=selectedTags.join(',');// Create the search query using the new format\nsearchQuery=\"\".concat(tagsString,\"/\").concat(textInput);console.log(searchQuery);// Check if both textInput and selectedTags are empty\nif(textInput.trim()===''&&selectedTags.length===0){window.location.href=\"/projectsearchres?search=NULL/NULL\";// Redirect with the desired search query\n}else if(textInput.trim()===''){window.location.href=\"/projectsearchres?search=\".concat(tagsString,\"/NULL\");}else if(selectedTags.length===0){window.location.href=\"/projectsearchres?search=NULL/\".concat(textInput);}else{window.location.href=\"/projectsearchres?search=\".concat(encodeURIComponent(searchQuery));}case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleTagSelect=function handleTagSelect(tag){if(!selectedTags.includes(tag)){setSelectedTags([].concat(_toConsumableArray(selectedTags),[tag]));}};var handleTagRemove=function handleTagRemove(tag){setSelectedTags(selectedTags.filter(function(t){return t!==tag;}));};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),dropdownVisible=_useState6[0],setDropdownVisible=_useState6[1];var toggleDropdown=function toggleDropdown(){setDropdownVisible(!dropdownVisible);};return/*#__PURE__*/_jsx(\"form\",{className:\"create\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tags-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-icon\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#657789\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:\"feather feather-search\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"21\",y1:\"21\",x2:\"16.65\",y2:\"16.65\"})]})}),selectedTags.map(function(tag){return/*#__PURE__*/_jsxs(\"div\",{className:\"tag-box\",onClick:function onClick(){return handleTagRemove(tag);},children:[tag,/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"x\"})]},tag);}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"text-input\",placeholder:\"Search Projects with Keywords\",value:textInput,onChange:function onChange(_ref2){var input=_ref2.currentTarget;setTextInput(input.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"advanced-search-btn\",onClick:toggleDropdown,children:\"Select Tags\"}),dropdownVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-subcategory\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Languages\"}),languageOptions.map(function(tag){return/*#__PURE__*/_jsx(\"div\",{className:\"tag-option\",onClick:function onClick(){return handleTagSelect(tag);},children:tag},tag);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-subcategory\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Project Type\"}),projectTypeOptions.map(function(tag){return/*#__PURE__*/_jsx(\"div\",{className:\"tag-option\",onClick:function onClick(){return handleTagSelect(tag);},children:tag},tag);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-subcategory\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Course Number\"}),courseNumberOptions.map(function(tag){return/*#__PURE__*/_jsx(\"div\",{className:\"tag-option\",onClick:function onClick(){return handleTagSelect(tag);},children:tag},tag);})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]})});};export default Search;","map":{"version":3,"names":["useState","useLocation","languageOptions","projectTypeOptions","courseNumberOptions","Search","location","searchQuery","URLSearchParams","search","get","split","filter","tag","selectedTags","setSelectedTags","textInput","setTextInput","tagOptions","handleSubmit","e","preventDefault","tagsString","join","console","log","trim","length","window","href","encodeURIComponent","handleTagSelect","includes","handleTagRemove","t","dropdownVisible","setDropdownVisible","toggleDropdown","map","input","currentTarget","value"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/searchbar.js"],"sourcesContent":["// export default Search;\nimport \"./search.css\";\n\nimport { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst languageOptions = ['Python', 'C++', 'Java', 'JavaScript', 'C', 'HTML/CSS', 'PHP', 'SQL', 'Swift', 'Go', ];\nconst projectTypeOptions = [\n  'Front-end',\n  'Back-end',\n  'Full-stack',\n  'React',\n  'Flask',\n  \"Rest\",\n  'Machine Learning',\n  'Data Analysis',\n  'Smart Devices',\n  'Artificial Intelligence',\n  'Social Network',\n  'Visualization',\n];\nconst courseNumberOptions = ['CS1101', 'CS2201', 'CS2212', 'CS3250', 'CS3251', 'CS3281', 'CS3270','CS4278', 'CS3265', 'CS4260', 'CS4288','CS3891'];\n\n\nconst Search = () => {\n    const location = useLocation();\n    \n    const searchQuery = new URLSearchParams(location.search).get('search') || 'NULL/NULL';\n    const [selectedTags, setSelectedTags] = useState(searchQuery.split('/')[0].split(',').filter(tag => tag !== 'NULL'));\n    const [textInput, setTextInput] = useState(searchQuery.split('/')[1] !== 'NULL' ? searchQuery.split('/')[1] : '');\n    const tagOptions = ['Python', 'C++', 'Java', 'JavaScript', 'C',\n                        'Front-end', 'Back-end', 'Full-stack',\n                        'Machine Learning', 'Data Analysis', 'Smart Devices', 'Artificial Intelligence',\n                        'Social Network', 'Visualization'];\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n    \n        // Combine the selected tags into a single string separated by commas\n        const tagsString = selectedTags.join(',');\n    \n        // Create the search query using the new format\n        const searchQuery = `${tagsString}/${textInput}`;\n    \n        console.log(searchQuery);\n    \n        // Check if both textInput and selectedTags are empty\n        if (textInput.trim() === '' && selectedTags.length === 0) {\n            window.location.href = `/projectsearchres?search=NULL/NULL`; // Redirect with the desired search query\n        } else if (textInput.trim() === ''){\n            window.location.href = `/projectsearchres?search=${tagsString}/NULL`\n        } else if (selectedTags.length === 0){\n            window.location.href = `/projectsearchres?search=NULL/${textInput}`\n        } else {\n            window.location.href = `/projectsearchres?search=${encodeURIComponent(searchQuery)}`;\n        }\n    };\n    \n    \n    \n\n    const handleTagSelect = (tag) => {\n        if (!selectedTags.includes(tag)) {\n            setSelectedTags([...selectedTags, tag]);\n        }\n    }\n\n    const handleTagRemove = (tag) => {\n        setSelectedTags(selectedTags.filter((t) => t !== tag));\n    }\n\n    const [dropdownVisible, setDropdownVisible] = useState(false);\n\n    const toggleDropdown = () => {\n        setDropdownVisible(!dropdownVisible);\n    };\n\n    return (\n        <form className=\"create\" onSubmit={handleSubmit}>\n            <div className=\"search-container\">\n                <div className=\"tags-container\">\n                <div className=\"search-icon\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#657789\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-search\">\n                            <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n                            <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\n                        </svg>\n                        </div>\n                    {selectedTags.map((tag) => (\n                        <div key={tag} className=\"tag-box\" onClick={() => handleTagRemove(tag)}>\n                            {tag}\n                            <button type=\"button\">x</button>\n                        </div>\n                    ))}\n                    <input\n                        type=\"text\"\n                        className=\"text-input\"\n                        placeholder=\"Search Projects with Keywords\"\n                        value={textInput}\n                        onChange={({ currentTarget: input }) => {\n                            setTextInput(input.value);\n                        }}\n                    />\n                </div>\n                <button type=\"button\" className=\"advanced-search-btn\" onClick={toggleDropdown}>\n                    Select Tags\n                </button>\n                {dropdownVisible && (\n  <div className=\"dropdown-container\">\n    <div className=\"dropdown-subcategory\">\n      <h4>Languages</h4>\n      {languageOptions.map((tag) => (\n        <div key={tag} className=\"tag-option\" onClick={() => handleTagSelect(tag)}>\n          {tag}\n        </div>\n      ))}\n    </div>\n    <div className=\"dropdown-subcategory\">\n      <h4>Project Type</h4>\n      {projectTypeOptions.map((tag) => (\n        <div key={tag} className=\"tag-option\" onClick={() => handleTagSelect(tag)}>\n          {tag}\n        </div>\n      ))}\n    </div>\n    <div className=\"dropdown-subcategory\">\n      <h4>Course Number</h4>\n      {courseNumberOptions.map((tag) => (\n        <div key={tag} className=\"tag-option\" onClick={() => handleTagSelect(tag)}>\n          {tag}\n        </div>\n      ))}\n    </div>\n  </div>\n)}\n                <button type=\"submit\">Search</button>\n            </div>\n            {/* <div className=\"tag-options-container\">\n                {tagOptions.map((tag) => (\n                    <div key={tag} className=\"tag-option\" onClick={() => handleTagSelect(tag)}>\n                        {tag}\n                    </div>\n                ))}\n            </div> */}\n        </form>\n    );\n};\n\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}