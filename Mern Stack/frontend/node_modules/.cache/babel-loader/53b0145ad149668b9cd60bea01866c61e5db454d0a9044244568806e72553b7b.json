{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useProjectsContext}from'../hooks/useProjectsContext';import{useAuthContext}from'../hooks/useAuthContext';// date fns\nimport formatDistanceToNow from'date-fns/formatDistanceToNow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProjectDetails=function ProjectDetails(_ref){var project=_ref.project;var _useProjectsContext=useProjectsContext(),dispatch=_useProjectsContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(user){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch('/api/projects/'+project._id,{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(user.token)}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(response.ok){dispatch({type:'DELETE_PROJECT',payload:json});}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"project-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:project.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User Email: \"}),project.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description: \"}),project.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Required members: \"}),project.nums]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tags: \"}),project.tags.map(function(tag,index){return/*#__PURE__*/_jsx(\"span\",{className:\"tag\",children:tag},index);})]}),/*#__PURE__*/_jsx(\"p\",{children:formatDistanceToNow(new Date(project.createdAt),{addSuffix:true})}),/*#__PURE__*/_jsx(\"span1\",{className:\"material-symbols-outlined\",onClick:handleClick,children:\"delete\"})]});};export default ProjectDetails;","map":{"version":3,"names":["useProjectsContext","useAuthContext","formatDistanceToNow","ProjectDetails","project","dispatch","user","handleClick","fetch","_id","method","headers","token","response","json","ok","type","payload","title","email","description","nums","tags","map","tag","index","Date","createdAt","addSuffix"],"sources":["/Users/jiashunli/Desktop/legendary-waffle/Mern Stack/frontend/src/components/ProjectDetails.js"],"sourcesContent":["import { useProjectsContext } from '../hooks/useProjectsContext'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// date fns\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nconst ProjectDetails = ({ project }) => {\n  const { dispatch } = useProjectsContext()\n  const { user } = useAuthContext()\n\n  const handleClick = async () => {\n    if (!user) {\n      return\n    }\n\n    const response = await fetch('/api/projects/' + project._id, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${user.token}`\n      }\n    })\n    const json = await response.json()\n\n    if (response.ok) {\n      dispatch({type: 'DELETE_PROJECT', payload: json})\n    }\n  }\n\n  return (\n    <div className=\"project-details\">\n      <h4>{project.title}</h4>\n      <p><strong>User Email: </strong>{project.email}</p>\n      <p><strong>Description: </strong>{project.description}</p>\n      <p><strong>Required members: </strong>{project.nums}</p>\n      <p><strong>Tags: </strong>\n          {project.tags.map((tag, index) => (\n            <span key={index} className=\"tag\">{tag}</span>\n          ))}\n      </p>\n      <p>{formatDistanceToNow(new Date(project.createdAt), { addSuffix: true })}</p>\n      <span1 className=\"material-symbols-outlined\" onClick={handleClick}>delete</span1>\n    </div>\n  )\n}\n\nexport default ProjectDetails"],"mappings":"sTAAA,OAASA,kBAAkB,KAAQ,6BAA6B,CAChE,OAASC,cAAc,KAAQ,yBAAyB,CAExD;AACA,MAAOC,oBAAmB,KAAM,8BAA8B,yFAE9D,GAAMC,eAAc,CAAG,QAAjBA,eAAc,MAAoB,IAAdC,QAAO,MAAPA,OAAO,CAC/B,wBAAqBJ,kBAAkB,EAAE,CAAjCK,QAAQ,qBAARA,QAAQ,CAChB,oBAAiBJ,cAAc,EAAE,CAAzBK,IAAI,iBAAJA,IAAI,CAEZ,GAAMC,YAAW,6FAAG,yJACbD,IAAI,uFAIcE,MAAK,CAAC,gBAAgB,CAAGJ,OAAO,CAACK,GAAG,CAAE,CAC3DC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,eAAe,kBAAYL,IAAI,CAACM,KAAK,CACvC,CACF,CAAC,CAAC,QALIC,QAAQ,qCAMKA,SAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,eAEV,GAAID,QAAQ,CAACE,EAAE,CAAE,CACfV,QAAQ,CAAC,CAACW,IAAI,CAAE,gBAAgB,CAAEC,OAAO,CAAEH,IAAI,CAAC,CAAC,CACnD,CAAC,qDACF,kBAhBKP,YAAW,2CAgBhB,CAED,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,oBAAKH,OAAO,CAACc,KAAK,EAAM,cACxB,kCAAG,wBAAQ,cAAY,EAAS,CAACd,OAAO,CAACe,KAAK,GAAK,cACnD,kCAAG,wBAAQ,eAAa,EAAS,CAACf,OAAO,CAACgB,WAAW,GAAK,cAC1D,kCAAG,wBAAQ,oBAAkB,EAAS,CAAChB,OAAO,CAACiB,IAAI,GAAK,cACxD,kCAAG,wBAAQ,QAAM,EAAS,CACrBjB,OAAO,CAACkB,IAAI,CAACC,GAAG,CAAC,SAACC,GAAG,CAAEC,KAAK,qBAC3B,aAAkB,SAAS,CAAC,KAAK,UAAED,GAAG,EAA3BC,KAAK,CAA8B,EAC/C,CAAC,GACF,cACJ,mBAAIvB,mBAAmB,CAAC,GAAIwB,KAAI,CAACtB,OAAO,CAACuB,SAAS,CAAC,CAAE,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,EAAK,cAC9E,cAAO,SAAS,CAAC,2BAA2B,CAAC,OAAO,CAAErB,WAAY,UAAC,QAAM,EAAQ,GAC7E,CAEV,CAAC,CAED,cAAeJ,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}